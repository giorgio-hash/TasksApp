{"remainingRequest":"C:\\Users\\gchir\\OneDrive\\Desktop\\js_mvc\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\gchir\\OneDrive\\Desktop\\js_mvc\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\gchir\\OneDrive\\Desktop\\js_mvc\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\gchir\\OneDrive\\Desktop\\js_mvc\\frontend\\src\\views\\Home.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\gchir\\OneDrive\\Desktop\\js_mvc\\frontend\\src\\views\\Home.vue","mtime":1677710282887},{"path":"C:\\Users\\gchir\\OneDrive\\Desktop\\js_mvc\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1677668014759},{"path":"C:\\Users\\gchir\\OneDrive\\Desktop\\js_mvc\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1677668016528},{"path":"C:\\Users\\gchir\\OneDrive\\Desktop\\js_mvc\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1677668014759},{"path":"C:\\Users\\gchir\\OneDrive\\Desktop\\js_mvc\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1677668016449}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFRhc2tzIGZyb20gJy4uL2NvbXBvbmVudHMvVGFza3MnOwppbXBvcnQgQWRkVGFzayBmcm9tICcuLi9jb21wb25lbnRzL0FkZFRhc2snOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0hvbWUnLAogIHByb3BzOiB7CiAgICBzaG93QWRkVGFzazogQm9vbGVhbgogIH0sCiAgY29tcG9uZW50czogewogICAgVGFza3MsCiAgICBBZGRUYXNrCiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhc2tzOiBbXQogICAgfTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBhc3luYyBhZGRUYXNrKHRhc2spIHsKICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJ2FwaS90YXNrcycsIHsKICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgfSwKICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0YXNrKQogICAgICB9KTsKICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7CiAgICAgIHRoaXMudGFza3MgPSBbLi4udGhpcy50YXNrcywgZGF0YV07CiAgICB9LAoKICAgIGFzeW5jIGRlbGV0ZVRhc2soaWQpIHsKICAgICAgaWYgKGNvbmZpcm0oJ0FyZSB5b3Ugc3VyZT8nKSkgewogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGBhcGkvdGFza3MvJHtpZH1gLCB7CiAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnCiAgICAgICAgfSk7CiAgICAgICAgcmVzLnN0YXR1cyA9PT0gMjAwID8gdGhpcy50YXNrcyA9IHRoaXMudGFza3MuZmlsdGVyKHRhc2sgPT4gdGFzay5pZCAhPT0gaWQpIDogYWxlcnQoJ0Vycm9yIGRlbGV0aW5nIHRhc2snKTsKICAgICAgfQogICAgfSwKCiAgICBhc3luYyB0b2dnbGVSZW1pbmRlcihpZCkgewogICAgICBjb25zdCB0YXNrVG9Ub2dnbGUgPSBhd2FpdCB0aGlzLmZldGNoVGFzayhpZCk7CiAgICAgIGNvbnN0IHVwZFRhc2sgPSB7IC4uLnRhc2tUb1RvZ2dsZSwKICAgICAgICByZW1pbmRlcjogIXRhc2tUb1RvZ2dsZS5yZW1pbmRlcgogICAgICB9OwogICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgYXBpL3Rhc2tzLyR7aWR9YCwgewogICAgICAgIG1ldGhvZDogJ1BVVCcsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgIH0sCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodXBkVGFzaykKICAgICAgfSk7CiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpOwogICAgICB0aGlzLnRhc2tzID0gdGhpcy50YXNrcy5tYXAodGFzayA9PiB0YXNrLmlkID09PSBpZCA/IHsgLi4udGFzaywKICAgICAgICByZW1pbmRlcjogZGF0YS5yZW1pbmRlcgogICAgICB9IDogdGFzayk7CiAgICB9LAoKICAgIGFzeW5jIGZldGNoVGFza3MoKSB7CiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCdhcGkvdGFza3MnKTsKICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7CiAgICAgIHJldHVybiBkYXRhOwogICAgfSwKCiAgICBhc3luYyBmZXRjaFRhc2soaWQpIHsKICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYGFwaS90YXNrcy8ke2lkfWApOwogICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTsKICAgICAgcmV0dXJuIGRhdGE7CiAgICB9CgogIH0sCgogIGFzeW5jIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnRhc2tzID0gYXdhaXQgdGhpcy5mZXRjaFRhc2tzKCk7CiAgfQoKfTs="},{"version":3,"sources":["C:\\Users\\gchir\\OneDrive\\Desktop\\js_mvc\\frontend\\src\\views\\Home.vue"],"names":[],"mappings":"AAUA,OAAO,KAAP,MAAkB,qBAAlB;AACA,OAAO,OAAP,MAAoB,uBAApB;AACA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,KAAK,EAAE;AACL,IAAA,WAAW,EAAE;AADR,GAFM;AAKb,EAAA,UAAU,EAAE;AACV,IAAA,KADU;AAEV,IAAA;AAFU,GALC;;AASb,EAAA,IAAI,GAAG;AACL,WAAO;AACL,MAAA,KAAK,EAAE;AADF,KAAP;AAGD,GAbY;;AAcb,EAAA,OAAO,EAAE;AACP,UAAM,OAAN,CAAc,IAAd,EAAoB;AAElB,YAAM,GAAE,GAAI,MAAM,KAAK,CAAC,WAAD,EAAc;AACnC,QAAA,MAAM,EAAE,MAD2B;AAEnC,QAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAF0B;AAKnC,QAAA,IAAI,EAAE,IAAI,CAAC,SAAL,CAAe,IAAf;AAL6B,OAAd,CAAvB;AAQA,YAAM,IAAG,GAAI,MAAM,GAAG,CAAC,IAAJ,EAAnB;AAEA,WAAK,KAAL,GAAa,CAAC,GAAG,KAAK,KAAT,EAAgB,IAAhB,CAAb;AACD,KAdM;;AAeP,UAAM,UAAN,CAAiB,EAAjB,EAAqB;AACnB,UAAI,OAAO,CAAC,eAAD,CAAX,EAA8B;AAC5B,cAAM,GAAE,GAAI,MAAM,KAAK,CAAE,aAAY,EAAG,EAAjB,EAAoB;AACzC,UAAA,MAAM,EAAE;AADiC,SAApB,CAAvB;AAIA,QAAA,GAAG,CAAC,MAAJ,KAAe,GAAf,GACK,KAAK,KAAL,GAAa,KAAK,KAAL,CAAW,MAAX,CAAmB,IAAD,IAAU,IAAI,CAAC,EAAL,KAAY,EAAxC,CADlB,GAEI,KAAK,CAAC,qBAAD,CAFT;AAGF;AACD,KAzBM;;AA0BP,UAAM,cAAN,CAAqB,EAArB,EAAyB;AACvB,YAAM,YAAW,GAAI,MAAM,KAAK,SAAL,CAAe,EAAf,CAA3B;AACA,YAAM,OAAM,GAAI,EAAE,GAAG,YAAL;AAAmB,QAAA,QAAQ,EAAE,CAAC,YAAY,CAAC;AAA3C,OAAhB;AAEA,YAAM,GAAE,GAAI,MAAM,KAAK,CAAE,aAAY,EAAG,EAAjB,EAAoB;AACzC,QAAA,MAAM,EAAE,KADiC;AAEzC,QAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAFgC;AAKzC,QAAA,IAAI,EAAE,IAAI,CAAC,SAAL,CAAe,OAAf;AALmC,OAApB,CAAvB;AAQA,YAAM,IAAG,GAAI,MAAM,GAAG,CAAC,IAAJ,EAAnB;AAEA,WAAK,KAAL,GAAa,KAAK,KAAL,CAAW,GAAX,CAAgB,IAAD,IAC1B,IAAI,CAAC,EAAL,KAAY,EAAZ,GAAiB,EAAE,GAAG,IAAL;AAAW,QAAA,QAAQ,EAAE,IAAI,CAAC;AAA1B,OAAjB,GAAwD,IAD7C,CAAb;AAGD,KA3CM;;AA4CP,UAAM,UAAN,GAAmB;AACjB,YAAM,GAAE,GAAI,MAAM,KAAK,CAAC,WAAD,CAAvB;AAEA,YAAM,IAAG,GAAI,MAAM,GAAG,CAAC,IAAJ,EAAnB;AAEA,aAAO,IAAP;AACD,KAlDM;;AAmDP,UAAM,SAAN,CAAgB,EAAhB,EAAoB;AAClB,YAAM,GAAE,GAAI,MAAM,KAAK,CAAE,aAAY,EAAG,EAAjB,CAAvB;AAEA,YAAM,IAAG,GAAI,MAAM,GAAG,CAAC,IAAJ,EAAnB;AAEA,aAAO,IAAP;AACD;;AAzDM,GAdI;;AAyEb,QAAM,OAAN,GAAgB;AACd,SAAK,KAAL,GAAa,MAAM,KAAK,UAAL,EAAnB;AACD;;AA3EY,CAAf","sourcesContent":["<template>\n  <AddTask v-show=\"showAddTask\" @add-task=\"addTask\" />\n  <Tasks\n    @toggle-reminder=\"toggleReminder\"\n    @delete-task=\"deleteTask\"\n    :tasks=\"tasks\"\n  />\n</template>\n\n<script>\nimport Tasks from '../components/Tasks'\nimport AddTask from '../components/AddTask'\nexport default {\n  name: 'Home',\n  props: {\n    showAddTask: Boolean,\n  },\n  components: {\n    Tasks,\n    AddTask,\n  },\n  data() {\n    return {\n      tasks: [],\n    }\n  },\n  methods: {\n    async addTask(task) {\n\n      const res = await fetch('api/tasks', {\n        method: 'POST',\n        headers: {\n          'Content-type': 'application/json',\n        },\n        body: JSON.stringify(task),\n      })\n\n      const data = await res.json()\n\n      this.tasks = [...this.tasks, data]\n    },\n    async deleteTask(id) {\n      if (confirm('Are you sure?')) {\n        const res = await fetch(`api/tasks/${id}`, {\n          method: 'DELETE',\n        })\n\n        res.status === 200\n          ? (this.tasks = this.tasks.filter((task) => task.id !== id))\n          : alert('Error deleting task')\n      }\n    },\n    async toggleReminder(id) {\n      const taskToToggle = await this.fetchTask(id)\n      const updTask = { ...taskToToggle, reminder: !taskToToggle.reminder }\n\n      const res = await fetch(`api/tasks/${id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-type': 'application/json',\n        },\n        body: JSON.stringify(updTask),\n      })\n\n      const data = await res.json()\n\n      this.tasks = this.tasks.map((task) =>\n        task.id === id ? { ...task, reminder: data.reminder } : task\n      )\n    },\n    async fetchTasks() {\n      const res = await fetch('api/tasks')\n\n      const data = await res.json()\n\n      return data\n    },\n    async fetchTask(id) {\n      const res = await fetch(`api/tasks/${id}`)\n\n      const data = await res.json()\n\n      return data\n    },\n  },\n  async created() {\n    this.tasks = await this.fetchTasks()\n  },\n}\n</script>\n"],"sourceRoot":""}]}